{"version":3,"file":"localDB.min.js","sources":["../src/localDB.js"],"names":["localDB","checkSystem","undefined","window","localStorage","observe","listen","obj","each","listener","fn","setIndizes","arr","model","index","conformSchemaName","_str","str","replace","toLowerCase","makeObject","field","merge","mainObj","toMerge","attr","createId","currDate","Date","now","ran","Math","floor","random","callback","i","length","schemas","errorMsg","nolocalstorage","schemaUndefined","schemaNameEmpty","collectionNameUndefined","collectionNotExist","indexUndefined","notInSchema","viewCollection","noObject","Initialize","methods","collections","Database","empty","collectionName","view","schema","schemaFields","sn","sf","Schema","Collection","Observer","checkCollectionName","existCollection","isAttr","_schemas","key","pushHandler","modify","newModel","Array","push","pullHandler","indexOf","splice","setHandler","mod","not","a","b","is","gt","parseInt","gte","lt","lte","has","ctl","c","add","fields","createModel","addModel","removeByIndex","id","deleted","getCollection","save","findByIndex","findIndex","_collection","operator","fieldAttr","search","results","find","indizes","this","Cursor","findAll","remove","self","update","modifiers","updated","updateByIndex","collection","currSchema","count","fetch","where","modCollection","limit","skip","createCollection","on","listener_key","all","db","setItem","JSON","stringify","getItem","parse"],"mappings":"AAKA,GAAIA,UAEJ,WAGC,YAqGA,SAASC,KAER,MAA2BC,UAAxBC,OAAOC,cAEF,GAGD,EAihBR,QAASC,GAAQC,EAAQC,GAExBC,EAAKC,EAASH,GAAS,SAASI,GAE/BA,EAAGH,KA4LL,QAASI,GAAWC,GAEnB,GAAIL,KAIJ,OAHAC,GAAKI,EAAK,SAASC,GAClBN,EAAIM,EAAMC,OAASD,IAEbN,EAIR,QAASQ,GAAkBC,GAE1B,GAAIC,GAAMD,CAKV,OAHAC,GAAMA,EAAIC,QAAQ,MAAO,IACzBD,EAAMA,EAAIE,cAOX,QAASC,GAAWR,GAEnB,GAAIL,KAQJ,OANAC,GAAKI,EAAK,SAASS,GAEjBd,EAAIc,GAASA,IAIRd,EAIR,QAASe,GAAMC,EAASC,GAEvB,GAAIjB,KAEJ,KAAK,GAAIkB,KAAQF,GAAWhB,EAAIkB,GAAQF,EAAQE,EAC9C,KAAK,GAAIA,KAAQD,GAAWjB,EAAIkB,GAAQD,EAAQC,EAE/C,OAAOlB,GAIX,QAASmB,KAER,GAAIC,GAAWC,KAAKC,MAChBC,EAAMC,KAAKC,MAAMD,KAAKE,SAAWN,GAAYA,EAAW,MAAWA,EAAW,KAClF,OAAOG,GAIR,QAAStB,GAAKI,EAAKsB,GAGlB,IADA,GAAIC,GAAIvB,EAAIwB,OACLD,KACND,EAAStB,EAAIuB,GAAIA,GAj3BnB,GAAIE,MASAC,GAEHC,eAAgB,4CAChBC,gBAAiB,sFACjBC,gBAAiB,4CACjBC,wBAAyB,6BACzBC,mBAAoB,wBACpBC,eAAgB,sBAChBC,YAAa,iCACbC,eAAgB,8BAChBC,SAAU,yCASPC,EAAa,WAGhB,IAAI/C,IAEH,KAAMqC,GAASC,cAKhB,IAAIU,IAEHC,YAAa,WACZ,MAAOC,KAAWD,eAGnBE,MAAO,SAASC,GAEf,MAAOF,KAAWC,MAAMC,IAIzBC,KAAM,aAMNC,OAAQ,SAASF,EAAgBG,GAGhC,GAAwBtD,SAAnBmD,GAA0D,gBAAnBA,IAAmDnD,SAAjBsD,GAAmDtD,SAApBsD,EAAa,GAAoB,CAE7I,GAAIC,GAAKJ,EACLK,EAAKF,CAET,IAAiB,IAAdC,EAAGrB,OACL,KAAME,GAASG,eAKhB,OAFAgB,GAAK1C,EAAkB0C,GAEhBE,IAASJ,OAAOE,EAAIC,GAI3B,KAAMpB,GAASE,iBAUlB,OAHAS,GAAU3B,EAAM2B,EAASW,KACzBX,EAAU3B,EAAM2B,EAASY,MA6BtBD,EAAa,WAGhB,QAASE,GAAoBT,GAE5B,MAAwBnD,UAAnBmD,GAA0D,gBAAnBA,IAAkCF,IAAWY,gBAAgBV,MAAoB,GAErH,GAIA,EAMT,QAASW,GAAOX,EAAgB5B,GAE/B,GAAIwC,GAAW7C,EAAWiB,EAAQgB,GAElC,KAAI,GAAIa,KAAOzC,GAEd,GAAqBvB,SAAlB+D,EAASC,GACX,OAAO,CAKT,QAAO,EAGR,QAASC,GAAYtD,EAAOuD,GAE3B,GAAIC,GAAWxD,CAEf,KAAI,GAAIqD,KAAOE,GAEXC,EAASH,YAAgBI,QAE3BD,EAASH,GAAKK,KAAKH,EAAOF,GAM5B,OAAOG,GAIR,QAASG,GAAY3D,EAAOuD,GAE3B,GAAIC,GAAWxD,CAEf,KAAI,GAAIqD,KAAOE,GAEd,GAAGC,EAASH,YAAgBI,OAAM,CAEjC,GAAIxD,GAAQuD,EAASH,GAAKO,QAAQL,EAAOF,GACrCpD,GAAQ,IACVuD,EAASH,GAAKQ,OAAO5D,EAAO,GAOhC,MAAOuD,GAIR,QAASM,GAAW9D,EAAOuD,GAE1B,GAAIC,GAAWxD,CAEf,KAAI,GAAI+D,KAAOR,GAEdC,EAASO,GAAOR,EAAOQ,EAIxB,OAAOP,GAKR,QAASQ,GAAIC,EAAEC,GACd,MAAGD,KAAMC,GACD,GAEA,EAIT,QAASC,GAAGF,EAAEC,GACb,MAAGD,KAAMC,GACD,GAEA,EAIT,QAASE,GAAGH,EAAEC,GACb,MAAGG,UAASJ,GAAKI,SAASH,IAClB,GAEA,EAIT,QAASI,GAAIL,EAAEC,GACd,MAAGG,UAASJ,IAAMI,SAASH,IACnB,GAEA,EAIT,QAASK,GAAGN,EAAEC,GACb,MAAGG,UAASJ,GAAKI,SAASH,IAClB,GAEA,EAIT,QAASM,GAAIP,EAAEC,GACd,MAAGG,UAASJ,IAAMI,SAASH,IACnB,GAEA,EAIT,QAASO,GAAIR,EAAGC,GAEf,GAAGD,YAAaR,OAAM,CAErB,GAAIiB,IAAM,CAYV,OAVA/E,GAAKsE,EAAG,SAASU,GAEbT,IAAMS,IAERD,GAAM,KAMDA,GAKT,OAECE,IAAK,SAASpC,EAAgBxC,GAE7B,IAAIiD,EAAoBT,GAEvB,KAAMf,GAASI,uBAIhB,IAAIgD,GAASrD,EAAQgB,GAEjBsC,GAEH7E,MAAOY,IAcR,OAVAlB,GAAKkF,EAAQ,SAASrE,GAErBsE,EAAYtE,GAASR,EAAMQ,KAI5B8B,IAAWyC,SAASvC,EAAgBsC,GAEpCtF,EAAQ,MAAOsF,GAERA,GAIRE,cAAe,SAASxC,EAAgByC,GAEvC,IAAIhC,EAAoBT,GAEvB,KAAMf,GAASI,uBAIhB,IACIqD,GADA7C,EAAcC,IAAW6C,cAAc3C,EAGxBnD,UAAhBgD,IAEF6C,EAAU7C,EAAY4C,SAEf5C,GAAY4C,GAEnB3C,IAAW8C,KAAK5C,EAAgBH,GAChC7C,EAAQ,SAAU0F,KAMpBG,YAAa,SAAS7C,EAAgByC,GAErC,GAAU5F,SAAP4F,EAEF,KAAMxD,GAASM,cAIhB,KAAIkB,EAAoBT,GAEvB,KAAMf,GAASI,uBAIhB,IAAIQ,GAAcC,IAAW6C,cAAc3C,EAE3C,OAAOH,GAAY4C,IAKpBK,UAAW,SAAS9C,EAAgB5B,EAAM2E,GAEzC,GAAIC,GACAC,CAEJ,KAAI,GAAID,KAAY5E,GAEnB4E,EAAWA,EACXC,EAAY7E,EAAK4E,EAIlB,IAAInD,GAA8BhD,SAAhBkG,EAA4BA,EAAcjD,IAAW6C,cAAc3C,EAErF,KAAIW,EAAOX,EAAgBiD,GAE1B,KAAMhE,GAASO,WAIhB,IAAI0D,KAEJ,KAAI,GAAIrC,KAAOoC,GAEdC,EAAOhC,KAAKL,GACZqC,EAAOhC,KAAK+B,EAAUpC,GAIvB,IAAIsC,KAEJ,KAAI,GAAI3F,KAASqC,GAAY,CAE5B,GAAIsC,IAAI,CAER,QAAOa,GAEN,IAAK,KACJb,EAAIR,EAAG9B,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC9C,MACA,KAAK,MACJf,EAAIX,EAAI3B,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC/C,MACA,KAAK,KACJf,EAAIP,EAAG/B,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC9C,MACA,KAAK,MACJf,EAAIL,EAAIjC,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC/C,MACA,KAAK,KACJf,EAAIJ,EAAGlC,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC9C,MACA,KAAK,MACJf,EAAIH,EAAInC,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,GAC/C,MACA,KAAK,MACJf,EAAIF,EAAIpC,EAAYrC,GAAO0F,EAAO,IAAKA,EAAO,IAI7Cf,GACFgB,EAAQjC,KAAK1D,GAKf,MAAO2F,IAKRC,KAAM,SAASpD,EAAgB5B,EAAM2E,GAEpC,GAAIM,GAAUC,KAAKR,UAAU9C,EAAgB5B,EAAM2E,GAC/ClD,EAAcC,IAAW6C,cAAc3C,GACvCmD,IAQJ,OANAhG,GAAKkG,EAAS,SAAS5F,GAEtB0F,EAAQjC,KAAKrB,EAAYpC,MAInB8F,EAAOJ,EAASnD,IAIxBwD,QAAS,SAASxD,GAEjB,IAAIS,EAAoBT,GAEvB,KAAMf,GAASI,uBAGhB,IAAI8D,MACAtD,EAAcC,IAAW6C,cAAc3C,EAC3C,KAAI,GAAIxC,KAASqC,GAChBsD,EAAQjC,KAAKrB,EAAYrC,GAE1B,OAAO+F,GAAOJ,EAASnD,IAGxByD,OAAQ,SAASzD,EAAgB5B,GAEhC,GAAIiF,GAAUC,KAAKR,UAAU9C,EAAgB5B,GACzCyB,EAAcC,IAAW6C,cAAc3C,GACvC0D,EAAOJ,KACPZ,IASJ,OAPAvF,GAAKkG,EAAS,SAAS5F,GAEtBiF,EAAQxB,KAAKrB,EAAYpC,IACzBiG,EAAKlB,cAAcxC,EAAgBvC,KAI7B8F,EAAOb,EAAS1C,IAIxB2D,OAAQ,SAAS3D,EAAgB5B,EAAMwF,GAEtC,GAAIP,GAAUC,KAAKR,UAAU9C,EAAgB5B,GACzCsF,EAAOJ,KACPO,IAEJ1G,GAAKkG,EAAS,SAAS5F,GAEtBiG,EAAKI,cAAc9D,EAAgBvC,EAAOmG,IAI3C,IAAI/D,GAAcC,IAAW6C,cAAc3C,EAQ3C,OANA7C,GAAKkG,EAAS,SAAS5F,GAEtBoG,EAAQ3C,KAAKrB,EAAYpC,MAInB8F,EAAOM,EAAS7D,IAGxB8D,cAAe,SAAS9D,EAAgByC,EAAImB,GAE3C,IAAInD,EAAoBT,GAEvB,KAAMf,GAASI,uBAIhB,IAAUxC,SAAP4F,EAEF,KAAMxD,GAASM,cAIhB,IAAI/B,GAAQsC,IAAW6C,cAAc3C,GAAgByC,EAErD,KAAI,GAAIlB,KAAOqC,GAAU,CAExB,GAAI7C,GAAS6C,EAAUrC,EAEvB,KAAIZ,EAAOX,EAAgB4D,EAAUrC,IAEpC,KAAMtC,GAASO,WAIhB,IAAIhC,EAEJ,QAAO+D,GAEN,IAAK,MACJ/D,EAAQ8D,EAAW9D,EAAOuD,EAC3B,MAEA,KAAK,OACJvD,EAAQsD,EAAYtD,EAAOuD,EAC5B,MAEA,KAAK,OACJvD,EAAQ2D,EAAY3D,EAAOuD,IAO9B,GAAIlB,GAAcC,IAAW6C,cAAc3C,EAC3CH,GAAYrC,EAAMC,OAASD,EAE3BsC,IAAW8C,KAAK5C,EAAgBH,GAEhC7C,EAAQ,SAAU6G,YAcjBN,EAAS,SAASQ,EAAY/D,GAEjC,GAAI+D,GAAaA,EACbC,EAAahE,CAEjB,QAECiE,MAAO,WAEN,MAAOF,GAAWhF,QAInBmF,MAAO,WAEN,MAAOH,IAIRI,MAAO,SAAS/F,GAEf,GAAIgG,GAAgB9G,EAAWyG,GAC3BZ,EAAU5C,IAAa6C,KAAKY,EAAY5F,EAAMgG,EAClD,OAAOjB,IAIRkB,MAAO,SAASC,EAAKD,GAEpB,MAAON,GAAW1C,OAAOiD,EAAMD,MAc9B/D,EAAS,WAEZ,OAECJ,OAAQ,SAASF,EAAgBG,GAKhC,MAFAnB,GAAQgB,GAAkBG,EAEvBL,IAAWyE,iBAAiBvE,IAE9BhB,EAAQgB,GAAkBG,GACnB,IAID,KAcN/C,GACHuG,UACAF,UACArB,QAaG5B,EAAW,WAEd,OAECgE,GAAI,SAASC,EAAc5F,GAE1BzB,EAASqH,GAAcvD,KAAKrC,MAc3BiB,EAAW,WAEd,OAECC,MAAO,SAASC,GAEf,IAAKsD,KAAK5C,gBAAgBV,GACzB,KAAMf,GAASK,kBAIhB,OADAgE,MAAKV,KAAK5C,OACH,GAIRH,YAAa,WAEZ,GAAI6E,KAEJ,KAAI,GAAIxE,KAAUlB,GAAQ,CAEzB0F,EAAIxE,KAEJ,IAAI6D,GAAaT,KAAKX,cAAczC,EAEpC,KAAI,GAAI1C,KAASuG,GAEhBW,EAAIxE,GAAQgB,KAAK6C,EAAWvG,IAM9B,MAAOkH,IAIRnC,SAAU,SAASvC,EAAgBxC,GAGlC,IAAK8F,KAAK5C,gBAAgBV,GACzB,KAAMf,GAASK,kBAGhB,IAAIyE,GAAaT,KAAKX,cAAc3C,EACpC+D,GAAWvG,EAAMC,OAASD,EAC1B8F,KAAKV,KAAK5C,EAAgB+D,IAI3BnB,KAAM,SAAS5C,EAAgB2E,GAE9B5H,aAAa6H,QAAQ5E,EAAgB6E,KAAKC,UAAUH,KAIrDjE,gBAAiB,SAASV,GAEzB,MAA4C,QAAzCjD,aAAagI,QAAQ/E,IAEhB,GAIA,GAMTuE,iBAAkB,SAASvE,GAG1B,MAAKsD,MAAK5C,gBAAgBV,IAQnB,GANNjD,aAAa6H,QAAQ5E,EAAgB6E,KAAKC,gBAEnC,IAQTnC,cAAe,SAAS3C,GAGvB,MAAGsD,MAAK5C,gBAAgBV,GAEhB6E,KAAKG,MAAMjI,aAAagI,QAAQ/E,IAFxC,SA2IArD,SAAU,GAAIgD"}