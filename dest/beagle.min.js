var Beagle;!function(){"use strict";function a(){return f}function b(){var a=Date.now(),b=Math.floor(Math.random()*a-(a+1e3)+(a+1e3));return b}function c(a,b){for(var c=a.length;c--;)b(a[c],c)}function d(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c}var e="DB",f={},g=function(){k().init();var a={Schema:function(a){return h(a)}};return a=d(a,i())},h=function(a){var b={};b._id=a._id||{label:"id"};for(var c in a)b[c]=a[c];f=b},i=function(){function d(b,c){var d=b;for(var e in c)void 0!==a()[e]&&(d[e]=c[e]);return d}function e(b,c){var d=b;for(var e in c)void 0!==a()[e]&&d[e]instanceof Array&&d[e].push(c[e]);return d}function f(a){var b={};for(var c in a)b[c]=a[c].value;return b}function g(c){var d={};void 0===c._id&&(c._id=b());for(var e in a())d[e]={value:c[e],label:a()[e].label};return d}var h={insert:function(a){k().set(g(a))},removeById:function(a){var b=k().get();delete b[a],k().refresh(b),b=null},updateById:function(a,b){var c;if(!this.findById(a)._id)return void 0;var f=this.findById(a);for(var h in b)"set"===h&&(c=d(f,b[h])),"push"===h&&(c=e(f,b[h]));var i=k().get();return i[a]=g(c),k().refresh(i),i=null,c},find:function(a){var b=k().get(),d=[],e={},g=[];for(var h in b)d.push(f(b[h]));for(var h in a){if(void 0===h)throw l.noQuery;e[0]=h,e[1]=a[h]}return void 0===a?j(d):(c(d,function(a){a[e[0]]===e[1]&&g.push(a)}),b=null,j(g))},findById:function(a){return f(k().get()[a])}};return h},j=function(a){var b=a,d={count:function(){return b.length},fetch:function(){return b},where:function(d){var e=[];for(var f in d)c(a,function(a){d[f]===a[f]&&e.push(a)});return b=e,this}};return d},k=function(){function a(){if(void 0===localStorage)throw l.noLocalStorage;void 0===b.get()&&localStorage.setItem(e,"{}")}var b={init:function(){a()},set:function(a){var b=this.get();b[a._id.value]=a,localStorage.setItem(e,JSON.stringify(b))},refresh:function(a){localStorage.setItem(e,JSON.stringify(a))},get:function(){var a=localStorage.getItem(e);return null!==a?JSON.parse(a):void 0}};return b},l={noLocalStorage:"Your Browser does not Support LocalStorage",noQuery:"Your find parameter is empty"};Beagle=new g}(),function(){"use strict";Beagle.Schema({username:{label:"Username"},email:{label:"Email"},arr:{label:"Array"}});var a=(document.getElementById("save_btn").addEventListener("click",function(){var a={username:document.getElementById("username").value,email:document.getElementById("email").value,arr:["test1","test2"]};Beagle.insert(a)},!1),Beagle.find().where({username:"alex"}).count());console.log(a)}();
//# sourceMappingURL=beagle.min.js.map