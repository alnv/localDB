<!DOCTYPE html>
<html>
	<head>
	    <meta charset="UTF-8">
	    <title>localDB</title>
	</head>
	
	<body>
		<div>
			<div>
				<input type="text" id="user" placeholder="Benutzer"/>
				<input type="text" id="age" placeholder="Alter"/>
				<button id="save_btn">Save</button>
			</div>
		</div>
		
		<div id="output">
			<ul>
				
			</ul>
		</div>
		
		<script src="../src/localDB.js"></script>
	
		<script>
	
			(function(){
			
				"use script";
				

                localDB.schema('users', ['username', 'age']);

                document.getElementById('save_btn').addEventListener('click', function(){
                    var obj = {
                        username: document.getElementById('user').value,
                        age: document.getElementById('age').value
                    };
                    localDB.add('users', obj);
                });

                localDB.watch('add', function(obj, colname){
                    console.log('add');
                    console.log(obj);
                    console.log(colname);
                });


                localDB.watch('remove', function(obj, colname){
                    console.log('remove');
                    console.log(obj);
                    console.log(colname);
                });

                localDB.watch('update', function(obj, colname){
                    console.log('update');
                    console.log(obj);
                    console.log(colname);
                });

                console.log(localDB);

                //localDB.add('users', {username: 'penis', email: 'nigga', age: 99});
                //localDB.remove('users', {gte: {age: 99}});
                //localDB.update('users', { is: { username: 'Alex' } }, { set: { age: 15 } } );


			})();
	
		</script>
	
	</body>
</html>
